{% extends "base.html" %}
{% block content %}

<div class="page-container">
    <div class="page-header">
        <h1 class="page-title">Sepetim</h1>
        <a href="{% url 'products:list' %}" class="btn btn-outline">Ürünlere Dön</a>
    </div>

    {% if cart.items.count %}
        <div class="table">
            <div class="table-row table-head">
                <div>Ürün</div>
                <div>Adet</div>
                <div>Tutar</div>
                <div></div>
            </div>
            {% for item in cart.items.all %}
            <div class="table-row">
                <div>{{ item.product.name }}</div>
                <div>{{ item.quantity }}</div>
                <div>₺{{ item.line_total }}</div>
                <div><a class="link" href="{% url 'checkout:cart_remove' item.id %}">Kaldır</a></div>
            </div>
            {% endfor %}
        </div>

        <div class="total-bar">
            <span>Toplam:</span>
            <strong>₺{{ cart.total_amount }}</strong>
        </div>

        <div class="card-actions">
            <a href="{% url 'checkout:checkout' %}" class="btn btn-primary">Ödemeye Geç</a>
        </div>
    {% else %}
        <div class="empty-state">
            <p>Sepetiniz boş.</p>
            <a href="{% url 'products:list' %}" class="btn btn-primary">Ürünlere Git</a>
        </div>
    {% endif %}
</div>

{% endblock %}