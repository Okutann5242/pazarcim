{% extends "base.html" %}
{% block content %}
<div class="page-container">
  <div class="card" style="overflow:hidden;">
    {% if store.banner %}
      <img src="{{ store.banner.url }}" alt="banner" style="width:100%; height:220px; object-fit:cover;">
    {% endif %}
    <div style="display:flex; gap:16px; padding:16px; align-items:center;">
      {% if store.logo %}
        <img src="{{ store.logo.url }}" alt="logo" style="width:72px; height:72px; border-radius:16px; object-fit:cover;">
      {% endif %}
      <div>
        <h1 style="margin:0;">{{ store.store_name }}</h1>
        <p class="muted" style="margin:6px 0 0 0;">{{ store.description|default:"" }}</p>
      </div>
    </div>
  </div>

  <div class="card" style="margin-top:12px;">
    <form method="get" style="display:flex; gap:10px; align-items:center;">
      <input class="input" type="text" name="q" value="{{ q }}" placeholder="Mağazada ara...">
      <button class="btn btn-outline" type="submit">Ara</button>
    </form>
  </div>

  <div style="margin-top:16px;">
    <h2>Ürünler</h2>
    <div class="product-grid">
      {% for p in products %}
        <a class="product-card" href="{% url 'core:store_product_detail' store_slug=store.slug product_slug=p.slug %}">
          <div class="product-image">
            {% if p.image %}<img src="{{ p.image.url }}" alt="{{ p.name }}">{% endif %}
          </div>
          <div class="product-body">
            <div class="muted" style="font-size:12px;">{{ p.category.name }}</div>
            <div class="product-title">{{ p.name }}</div>
            <div class="product-price">₺{{ p.price }}</div>
          </div>
        </a>
      {% empty %}
        <p class="muted">Bu mağazada henüz ürün yok.</p>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
