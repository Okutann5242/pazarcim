{% load static %}

<style>
    /* 1. Sidebar Ana Kutusu */
    .panel-sidebar {
        width: 260px;              /* GeniÅŸlik sabit */
        height: 100vh;             /* Tam boy yÃ¼kseklik */
        background-color: #ffffff; /* Beyaz arka plan */
        border-right: 1px solid #e5e7eb; /* SaÄŸ tarafa ince Ã§izgi */
        display: flex;
        flex-direction: column;
        padding: 20px 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        overflow-y: auto; /* Ä°Ã§erik taÅŸarsa kaydÄ±rma Ã§ubuÄŸu Ã§Ä±ksÄ±n */
    }

    /* 2. Logo AlanÄ± */
    .panel-logo {
        font-size: 24px;
        font-weight: 800;
        color: #4f46e5; /* Morumsu modern bir renk */
        text-align: center;
        margin-bottom: 30px;
        text-decoration: none;
        letter-spacing: -0.5px;
    }

    /* 3. MenÃ¼ Linkleri Genel YapÄ±sÄ± */
    .nav-item {
        display: flex;
        align-items: center;
        padding: 12px 24px;
        color: #4b5563; /* Koyu gri yazÄ± */
        text-decoration: none;
        font-size: 15px;
        font-weight: 500;
        transition: all 0.2s ease;
        cursor: pointer;
        border-left: 3px solid transparent; /* Sol kenarlÄ±k (hover iÃ§in hazÄ±rlÄ±k) */
    }

    /* Ä°konlar */
    .nav-icon {
        margin-right: 12px;
        font-size: 18px;
        width: 24px;
        text-align: center;
    }

    /* Ãœzerine gelince (Hover) */
    .nav-item:hover {
        background-color: #f9fafb;
        color: #111827;
        border-left-color: #4f46e5; /* Sol Ã§izgiyi renklendir */
    }

    /* Aktif/SeÃ§ili Link (Ä°sterseniz JS ile bu classÄ± ekleyebilirsiniz) */
    .nav-item.active-link {
        background-color: #eff6ff;
        color: #2563eb;
        border-left-color: #2563eb;
    }

    /* 4. Alt MenÃ¼ler (Dropdown) */
    .nav-children {
        display: none; /* VarsayÄ±lan olarak gizli */
        background-color: #f9fafb; /* Hafif gri zemin */
        padding: 5px 0;
        flex-direction: column; /* Alt menÃ¼ler alt alta olsun */
    }

    /* Alt menÃ¼ linkleri */
    .nav-child {
        display: block;
        padding: 10px 24px 10px 58px; /* Soldan girintili (ikon hizasÄ±) */
        font-size: 14px;
        color: #6b7280;
        text-decoration: none;
        transition: color 0.2s;
    }

    .nav-child:hover {
        color: #4f46e5;
        background-color: #f3f4f6;
    }

    /* JavaScript ile aÃ§Ä±ldÄ±ÄŸÄ±nda bu class eklenecek */
    .nav-children.show {
        display: flex; /* GÃ¶rÃ¼nÃ¼r yap */
    }

    /* DÃ¼kkan AyarlarÄ± iÃ§in Ã¶zel Ä±zgara (Ã–nceki isteÄŸinize istinaden opsiyonel) */
    /* EÄŸer alt menÃ¼lerin yan yana durmasÄ±nÄ± istiyorsanÄ±z sadece bu ID'ye Ã¶zel ayar: */
    /* #dukkanMenu.show {
        flex-direction: row;
        flex-wrap: wrap;
        padding-left: 20px;
    }
    #dukkanMenu .nav-child {
        padding: 5px 10px;
        background: #fff;
        border: 1px solid #ddd;
        border-radius: 4px;
        margin: 2px;
    } 
    */
</style>

<aside class="panel-sidebar">

    <a href="/" class="panel-logo">PZPazarcÄ±m</a>

    <nav class="panel-nav">
        
        <a href="{% url 'core:dashboard' %}" class="nav-item">
            <span class="nav-icon">ğŸ </span> Hesap Ã–zeti
        </a>

        <div class="nav-group">
            <div class="nav-item nav-parent" onclick="toggleMenu('urunMenu')">
                <span class="nav-icon">ğŸ“¦</span> ÃœrÃ¼nler
                <span style="margin-left:auto; font-size:12px;">â–¼</span>
            </div>
            <div id="urunMenu" class="nav-children">
                <a href="{% url 'core:panel_products_new' %}" class="nav-child">Yeni ÃœrÃ¼n Ekle</a>
                <a href="{% url 'core:panel_products_list' %}" class="nav-child">ÃœrÃ¼n Listesi</a>
            </div>
        </div>

        <a href="{% url 'core:panel_orders' %}" class="nav-item">
            <span class="nav-icon">ğŸ§¾</span> SipariÅŸler
        </a>

        <a href="{% url 'core:panel_payouts' %}" class="nav-item">
            <span class="nav-icon">ğŸ’°</span> Tahsilatlar
        </a>

        <a href="{% url 'core:panel_refunds' %}" class="nav-item">
            <span class="nav-icon">â†©ï¸</span> Ä°adeler
        </a>

        <a href="{% url 'core:panel_discounts' %}" class="nav-item">
            <span class="nav-icon">ğŸ·ï¸</span> Ä°ndirimler
        </a>

        <div class="nav-group">
            <div class="nav-item nav-parent" onclick="toggleMenu('dukkanMenu')">
                <span class="nav-icon">ğŸª</span> DÃ¼kkan AyarlarÄ±
                <span style="margin-left:auto; font-size:12px;">â–¼</span>
            </div>
            <div id="dukkanMenu" class="nav-children">
                <a href="{% url 'core:panel_store_settings' %}" class="nav-child">Genel Ayarlar</a>
                <a href="{% url 'core:panel_store_logo' %}" class="nav-child">Logo & Banner</a>
                <a href="{% url 'core:panel_category_settings' %}" class="nav-child">Kategoriler</a>
                <a href="{% url 'core:panel_variation_settings' %}" class="nav-child">Varyasyonlar</a>
                <a href="{% url 'core:panel_courier_settings' %}" class="nav-child">Kargo</a>
            </div>
        </div>

        <div class="nav-group">
            <div class="nav-item nav-parent" onclick="toggleMenu('hesapMenu')">
                <span class="nav-icon">âš™ï¸</span> Hesap YÃ¶netimi
                <span style="margin-left:auto; font-size:12px;">â–¼</span>
            </div>
            <div id="hesapMenu" class="nav-children">
                <a href="{% url 'core:panel_account_security' %}" class="nav-child">GÃ¼venlik</a>
            </div>
        </div>

    </nav>
</aside>

<script>
function toggleMenu(id) {
    // TÄ±klanan menÃ¼yÃ¼ bul
    const menu = document.getElementById(id);
    
    // 'show' class'Ä±nÄ± ekle veya Ã§Ä±kar (toggle)
    menu.classList.toggle('show');
    
    // Opsiyonel: Bir menÃ¼ aÃ§Ä±lÄ±nca diÄŸerleri kapansÄ±n istiyorsan bu kodu aÃ§abilirsin:
    /*
    const allMenus = document.querySelectorAll('.nav-children');
    allMenus.forEach(item => {
        if(item.id !== id) item.classList.remove('show');
    });
    */
}
</script>